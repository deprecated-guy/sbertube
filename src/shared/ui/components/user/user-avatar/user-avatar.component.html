<div
	*ngIf="!user.avatarBackgroundImage; else withImage"
	class="avatar relative"
	[style.background-color]="color"
	[style.width]="width"
	[style.height]="height"
>
	<div
		#imgContainer
		(click)="openWindow(update)"
		class="w-full px-[32%] py-[38%] cursor-pointer h-full bg-black opacity-60 rounded-full hidden absolute justify-center items-center"
	>
		<sb-icon icon="camera" name="complete" class="cursor-pointer" [width]="60" [height]="60"></sb-icon>
	</div>
	<ng-container *ngIf="firstUsernameLetter; else loading">
		<p [style.font-size]="fontSize">
			{{ firstUsernameLetter }}
		</p>
	</ng-container>
</div>
<ng-template #withImage>
	<div
		class="avatar relative"
		style="background: url('http://localhost:3001/user/images/avatar/{{
			user.avatarBackgroundImage
		}}'); background-repeat: no-repeat; background-size: cover;"
		[style.width]="width"
		[style.height]="height"
	>
		<div
			#imgContainer
			class="w-full h-full z-2s bg-black opacity-60 cursor-pointer px-[38%] py-[35%] rounded-full hidden absolute justify-center items-center"
			(click)="openWindow(update)"
		>
			<sb-icon
				icon="camera"
				class="cursor-pointer"
				name="complete"
				fillColor="white"
				[width]="50"
				[height]="50"
			></sb-icon>
		</div>
		<ng-container *ngIf="firstUsernameLetter; else loading">
			<p [style.font-size]="fontSize">
				{{ firstUsernameLetter }}
			</p>
		</ng-container>
	</div>
</ng-template>
<ng-template #loading><sb-skeleton-loader width="50px" height="5px"></sb-skeleton-loader></ng-template>
<ng-template #update>
	<div class="w-full h-full flex-col justify-center">
		<sb-control-file (outputFile)="getFile($event)"></sb-control-file>
		<div class="flex mt-[10px]">
			<button
				#button
				class="flex flex-row-reverse text-white bg-blue-700 px-[10px] py-[5px] rounded-md relative overflow-hidden"
				(click)="uploadImage('white')"
			>
				<span class="material-cons">upload</span><span>Upload Image</span>
			</button>
		</div>
	</div>
</ng-template>
